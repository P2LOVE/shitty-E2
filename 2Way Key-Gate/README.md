not finished, not working, ready for modding

main issue: how to optimise "while" part.now it's stuck with "tick quota exceeded"